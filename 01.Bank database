--CREATION

-- Create Branch table
CREATE TABLE Branch (
    BranchName VARCHAR(50) NOT NULL PRIMARY KEY,
    BranchCity VARCHAR(50),
    Assets INT
);

-- Create Customer table
CREATE TABLE Customer (
    CustomerID INT NOT NULL PRIMARY KEY,
    CustomerName VARCHAR(50),
    CustomerStreet VARCHAR(50),
    CustomerCity VARCHAR(50)
);

-- Create Account table
CREATE TABLE Account (
    AccountNumber INT NOT NULL PRIMARY KEY,
    BranchName VARCHAR(50),
    Balance INT,
    FOREIGN KEY(BranchName) REFERENCES Branch(BranchName) ON DELETE CASCADE
);

-- Create Loan table
CREATE TABLE Loan (
    LoanNumber INT NOT NULL PRIMARY KEY,
    BranchName VARCHAR(50),
    Amount INT,
    FOREIGN KEY(BranchName) REFERENCES Branch(BranchName) ON DELETE CASCADE
);

-- Create Depositor table
CREATE TABLE Depositor (
    CustomerID INT,
    AccountNumber INT,
    PRIMARY KEY(CustomerID, AccountNumber),
    FOREIGN KEY(CustomerID) REFERENCES Customer(CustomerID) ON DELETE CASCADE,
    FOREIGN KEY(AccountNumber) REFERENCES Account(AccountNumber) ON DELETE CASCADE
);

-- Create Borrower table
CREATE TABLE Borrower (
    CustomerID INT,
    LoanNumber INT,
    PRIMARY KEY(CustomerID, LoanNumber),
    FOREIGN KEY(CustomerID) REFERENCES Customer(CustomerID) ON DELETE CASCADE,
    FOREIGN KEY(LoanNumber) REFERENCES Loan(LoanNumber) ON DELETE CASCADE
);




--INSERTION:

INSERT INTO Branch VALUES 
('Dhanmondi', 'Dhaka', 100000),
('Uttara', 'Dhaka', 120000),
('Mirpur', 'Dhaka', 90000),
('Gulshan', 'Dhaka', 180000);

INSERT INTO Customer VALUES
(1, 'Akash', 'Street 1', 'Dhaka'),
(2, 'Anis', 'Street 2', 'Dhaka'),
(3, 'Sajid', 'Street 3', 'Dhaka'),
(4, 'Rifat', 'Street 4', 'Dhaka'),
(5, 'Shadhin', 'Street 5', 'Dhaka');


INSERT INTO Account VALUES
(101, 'Dhanmondi', 20000),
(102, 'Dhanmondi', 30000),
(103, 'Uttara', 25000),
(104, 'Uttara', 40000),
(105, 'Mirpur', 15000); 


INSERT INTO Loan VALUES
(201, 'Dhanmondi', 51000),
(202, 'Mirpur', 15000),
(203, 'Uttara', 25000),
(204, 'Uttara', 26000);


INSERT INTO Depositor VALUES
(1, 101), 
(2, 102), 
(3, 103), 
(4, 104),
(5, 105); 


INSERT INTO Borrower VALUES
(1, 201),
(2, 202), 
(3, 203),
(4, 204);
